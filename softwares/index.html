<!DOCUTYPE HTML>
<html lang="ja">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-174934210-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-174934210-1');
    </script>

    <meta charset="utf8">
    <link rel="stylesheet" href="../style.css">
    <link rel="icon" type="image/png" href="/img/logo/yotiosoft32.png">
    <title>ソフトウェア - YotioSoft</title>

    <script src="../js/jquery-3.5.1.min.js"></script>
    <script>
      //共通パーツ読み込み
      $(function() {
       $("#header").load("/header.html");
       $("#footer").load("/footer.html");
      });
    </script>
    <script>
      $(function($){
        var content = $("#content");
        var sidebar = $("#sidebar");
        var sticked = $("#sticked");

        // サイドバーの位置
        var sidebar_top = sidebar.offset().top;
        // 固定するコンテンツの元々の位置
        var sticked_original_top = sticked.offset().top;
        // 固定するコンテンツの高さ
        var sticked_height = sticked.height();

        $(window).on('scroll resize', function(){ // スクロールかリサイズ時
            // 現在の位置
            var scrollTop = $(document).scrollTop() + 130;
            // メインコンテンツ最後尾
            var content_bottom = content.offset().top + content.height();

            if ((scrollTop > sticked_original_top) && (scrollTop < content_bottom - sticked_height)){
                // 現在位置が、初期位置より下で、メインコンテンツ最後尾より上なら、画面上部にサイドバーを固定
                sticked.css({'position': 'fixed',
                    'top': 130,
                    'width': sidebar.width()
                });
            } else if(scrollTop >= content_bottom - sticked_height){
                // 現在位置がメインコンテンツ最後尾より下なら、メインコンテンツ最後尾にサイドバーを位置させる
                sticked.css({'position': 'absolute',
                    'top': content_bottom - sticked_height - sidebar_top,
                    'width': sidebar.width()
                });
            } else {
                // 現在位置が初期位置より上なら、何もしない
                sticked.css({'position': 'static'});
            }
        });
      });
    </script>
  </head>

  <body>
    <div id="wrap">
    <header>
      <div id="header"></div>
    </header>

    <div style="margin-top: 100px;" />

    <div id="pageheader" style="background: #0fb9b1;">
      <div id="pageheader_wrap">
        <div id="pageheader_title">ソフトウェア</div>
        <div id="pageheader_summary">このサイトで公開している作品について紹介します。</div>
      </div>
    </div>

    <nav>
      <div id="navibar_wrap">
        <div id="navibar">
          <a href="/">Home</a>
          <font class="arrow">></font>
          ソフトウェア
        </div>
      </div>
    </nav>

    <div id="main_wrap">
      <div id="sidebar">
        <div id="sticked">
          <div id="sidebar_menu">
            <div id="sidebar_h">
              ソフトウェア
            </div>
            <div id="sidebar_links">
              <li><a href="#summary">概要</a></li>
              <li><a href="#games">ゲーム</a></li>
            </div>
          </div>
        </div>
      </div>

      <div id="content">
      	<div id="column">
          <a name="summary" class="anchor"></a>
          <div id="content_h">概要</div>
          <div id="content_main">
            このサイトで公開しているソフトウェアは、すべて無料。<br>
            オープンソースですので、安心してお使いいただけます。<br>
            すべての作品にMITライセンスを適用していますので、改造なども可能です。
          </div>
      	</div>

      	<div id="column">
          <a name="games" class="anchor"></a>
          <div id="content_h">ゲーム</div>
            <div id="content_h2">
              <div id="content_h2_box"></div>
              Cities Box
            </div>
            <div id="content_sub">
              <table class="default_table">
                <tr>
                  <td>ジャンル</td>
                  <td>都市開発ゲーム</td>
                </tr>
                <tr>
                  <td rowspan="2" scope="rowgroup" class="nowrap">動作環境</td>
                  <td>Windows 10</td>
                </tr>
                <tr>
                  <td>macOS 10.14以降</td>
                </tr>
              </table>
            </div>
      	</div>
      </div>
    </div>

    <footer class="footer_class">
      <div id="footer"></div>
    </footer>
  </div>
  </body>

</html>
