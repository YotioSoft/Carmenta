<!DOCUTYPE HTML>
<html lang="ja">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-174934210-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-174934210-1');
    </script>

    <meta charset="utf8">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="/img/logo/yotiosoft32.png">
    <title>YotioSoft</title>

    <script src="./js/jquery-3.5.1.min.js"></script>
    <script>
      //共通パーツ読み込み
      $(function() {
       $("#header").load("header.html");
       $("#footer").load("footer.html");
      });
    </script>
    <script>
      $(function($){
        var content = $("#content");
        var sidebar = $("#sidebar");
        var sticked = $("#sticked");

        // サイドバーの位置
        var sidebar_top = sidebar.offset().top;
        // 固定するコンテンツの元々の位置
        var sticked_original_top = sticked.offset().top;
        // 固定するコンテンツの高さ
        var sticked_height = sticked.height();

        $(window).on('scroll resize', function(){ // スクロールかリサイズ時
            // 現在の位置
            var scrollTop = $(document).scrollTop() + 130;
            // メインコンテンツ最後尾
            var content_bottom = content.offset().top + content.height();

            if ((scrollTop > sticked_original_top) && (scrollTop < content_bottom - sticked_height)){
                // 現在位置が、初期位置より下で、メインコンテンツ最後尾より上なら、画面上部にサイドバーを固定
                sticked.css({'position': 'fixed',
                    'top': 130,
                    'width': sidebar.width()
                });
            } else if(scrollTop >= content_bottom - sticked_height){
                // 現在位置がメインコンテンツ最後尾より下なら、メインコンテンツ最後尾にサイドバーを位置させる
                sticked.css({'position': 'absolute',
                    'top': content_bottom - sticked_height - sidebar_top,
                    'width': sidebar.width()
                });
            } else {
                // 現在位置が初期位置より上なら、何もしない
                sticked.css({'position': 'static'});
            }
        });
      });
    </script>
  </head>

  <body>
    <div id="wrap">
    <header>
      <div id="header"></div>
    </header>

    <div style="margin-top: 130px;"></div>

    <div id="main_wrap">
      <div id="fullcolumn">
        <a href="http://yotiosoft.com/citiesbox/">
          <img src="./img/top/cities_box_20200809.webp" />
        </a>
      </div>
    </div>

    <div id="main_wrap">
      <div id="sidebar">
        <div id="sticked">
          <div id="sidebar_menu">
            <div id="sidebar_h">
              Home
            </div>
            <div id="sidebar_links">
              <li><a href="#what">YotioSoftとは？</a></li>
              <li><a href="#environment">主な開発・動作環境</a></li>
            </div>
          </div>
        </div>
      </div>

      <div id="content">
        <div id="column">
          <h2>Hello World!</h2><br>
          このサイトは現在試験運用中です。<br>
          現行のHPは<a href="http://yotiosoft.com/">こちら</a>
        </div>

        <div id="column">
          <a name="what"></a>
          <div id="content_h">YotioSoftとは？</div>
          <div id="content_main">
            YotioSoftでは、無料かつオープンソースで、改造が可能な自作ソフトウェアを公開しています。
          </div>
        </div>

        <div id="column">
          <a name="environment"></a>
          <div id="content_h">主な開発・動作環境</div>
          <div id="content_main">
            このサイトで公開しているソフトウェアは、主に以下の環境で開発しています。
            <table>
              <tr>
                <td rowspan="2" scope="rowgroup" class="nowrap">開発言語</td>
                <td>HSP (Hot Soup Processor)</td>
              </tr>
              <tr>
                <td>C++</td>
              </tr>
              <tr>
                <td rowspan="3" scope="rowgroup" class="nowrap">使用ライブラリ</td>
                <td>OpenSiv3D</td>
              </tr>
              <tr>
                <td>OpenCV4</td>
              </tr>
              <tr>
                <td>OpenGL2</td>
              </tr>
              <tr>
                <td rowspan="2" scope="rowgroup" class="nowrap">主な動作環境</td>
                <td>Windows10</td>
              </tr>
              <tr>
                <td>macOS 10.14以降</td>
              </tr>
            </table>
          </div>
        </div>

      </div>
    </div>

    <footer class="footer_class">
      <div id="footer"></div>
    </footer>
  </div>
  </body>

</html>
