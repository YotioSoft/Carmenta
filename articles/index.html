<!DOCUTYPE HTML>
<html lang="ja">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-174934210-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-174934210-1');
    </script>

    <meta charset="utf8">
    <link rel="stylesheet" href="../style.css">
    <link rel="icon" type="image/png" href="/img/logo/yotiosoft32.png">
    <title>About - YotioSoft</title>

    <script src="../js/jquery-3.5.1.min.js"></script>
    <script src="../js/common.js"></script>
    <script src="../js/side.js"></script>
    <script src="../js/jump.js"></script>
    <script src="./load_article.js"></script>
  </head>

  <body>
    <div id="wrap">
      <header>
        <div id="headers">
          <div id="fixed">
            <div id="header"></div>
          </div>
        </div>
      </header>

      <div style="margin-top: 100px;"></div>

      <div id="pageheader" style="background: #e67e22;">
        <div id="pageheader_wrap">
          <div id="pageheader_title">お知らせ</div>
          <div id="pageheader_summary">YotioSoftからのお知らせなど。</div>
        </div>
      </div>

      <nav>
        <div id="navibar_wrap">
          <div id="navibar">
            <a href="/">Home</a>
            <font class="arrow">></font>
            お知らせ
          </div>
        </div>
      </nav>

      <div id="main_wrap">
        <div id="sidebar">
          <div id="sticked">
            <div id="sidebar_menu">
              <div id="sidebar_h">
                お知らせ
              </div>
              <div id="sidebar_links">
                <li><a href="#articles">最近の投稿</a></li>
              </div>
            </div>
          </div>
        </div>

        <div id="content">
        	<div id="column">
            <div id="articles"></div>
            <div id="content_h">最近の投稿</div>

            <script>
              const formatter = new Intl.NumberFormat('ja', {
                minimumIntegerDigits: 2, 
                useGrouping: false
              });
  
              $.getJSON("articles.json", function(data){
                const target = document.getElementById("card_link");
                target.href = data[0].link;
                document.getElementById("article_title").innerHTML = data[0].title;

                const doc = fetch(data[0].link)
                .then((res) => res.text())
                .then((text) => {
                    return new DOMParser().parseFromString(text, "text/html");
                  })
                .then((dom) =>
                  document.getElementById("article_summary").innerHTML = data[0].year+"."+formatter.format(data[0].month)+"."+formatter.format(data[0].day)+"<br>"
                    +dom.body.replace(/<("[^"]*"|'[^']*'|[^'">])*>/g,'')
                );
              });
            </script>
            
            <div class="card4">
              <a id="card_link">
                <img src="../img/articles/2020/58BC5481-3245-477C-98FF-94DAAA00C453.jpeg" class="image4">
              </a>
              <div class="card_absolute">
                <p class="title4" id="article_title"></p>
                <p class="content4" id="article_summary"></p>
              </div>
            </div>
        	</div>

        	<div id="column">
            <div id="whats"></div>
            <div id="content_h">YotioSoftとは</div>
            <div id="content_main">
              管理人が作ったしょうもないソフトウェアを無料で公開しているサイトです。<br>
              現行のHPはこちら↓<br>
              <a href="http://yotiosoft.com">http://yotiosoft.com</a>
            </div>
        	</div>
        </div>
      </div>

      <footer class="footer_class">
        <div id="footer"></div>
      </footer>
    </div>
  </body>

</html>
